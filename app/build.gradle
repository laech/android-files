apply plugin: 'com.android.application'

android {

    compileSdkVersion project.compileSdkVersion
    buildToolsVersion project.buildToolsVersion

    defaultConfig {
        applicationId 'l.files'
        minSdkVersion project.minSdkVersion
        targetSdkVersion project.targetSdkVersion
        versionCode 8
        versionName '3.0'
        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"
    }

    signingConfigs {

        release {
            if (System.console() != null) {
                storeFile System.console().readLine("\nKeystore location: ")
                storePassword new String(System.console().readPassword("\nKeystore password: "))
                keyAlias "files"
                keyPassword new String(System.console().readPassword("\nKey password: "))
            }
        }

    }

    buildTypes {

        debug {
            applicationIdSuffix ".debug"
        }

        release {
            signingConfig signingConfigs.release
        }

    }

    splits {
        abi {
            enable true
        }
    }

    packagingOptions {
        exclude 'META-INF/LICENSE'
        exclude 'META-INF/LICENSE.txt'
        exclude 'META-INF/NOTICE'
    }

}

dependencies {

    compile project(':ui-browser')
    compile project(':ui-operations')

    androidTestCompile project(':testing-fs')

    androidTestCompile 'org.mockito:mockito-core:1.10.19'
    androidTestCompile 'com.google.dexmaker:dexmaker:1.2'
    androidTestCompile 'com.google.dexmaker:dexmaker-mockito:1.2'
    androidTestCompile "com.android.support:support-annotations:$supportLibVersion"

}
